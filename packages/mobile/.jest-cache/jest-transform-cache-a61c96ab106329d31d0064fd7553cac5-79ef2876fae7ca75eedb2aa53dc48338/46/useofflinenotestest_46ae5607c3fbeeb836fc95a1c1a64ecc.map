{"version":3,"names":["_reactNative","require","_useOfflineNotes","describe","it","_renderHook","renderHook","useOfflineNotes","result","expect","current","notes","toEqual","isLoading","toBe","isSaving","onlineUsers","typingUsers","_renderHook2","createNote","updateNote","deleteNote","startTyping","stopTyping","options","someOption","_renderHook3","_asyncToGenerator2","default","_renderHook4","noteData","title","content","createdNote","act","toBeDefined","is_folder","id","_renderHook5","_renderHook6","folderData","_renderHook7","note1","note2","not","_renderHook8","resolves","toBeUndefined","_renderHook9","_renderHook0","toThrow","_renderHook1","_renderHook10","rerender","initialNotes","initialIsLoading","undefined"],"sources":["use-offline-notes.test.ts"],"sourcesContent":["import { act, renderHook } from '@testing-library/react-native'\nimport { useOfflineNotes } from '../../hooks/use-offline-notes'\n\ndescribe('useOfflineNotes', () => {\n  it('initializes with correct default state', () => {\n    const { result } = renderHook(() => useOfflineNotes())\n\n    expect(result.current.notes).toEqual([])\n    expect(result.current.isLoading).toBe(false)\n    expect(result.current.isSaving).toBe(false)\n    expect(result.current.onlineUsers).toEqual([])\n    expect(result.current.typingUsers).toEqual([])\n  })\n\n  it('provides all required functions', () => {\n    const { result } = renderHook(() => useOfflineNotes())\n\n    expect(typeof result.current.createNote).toBe('function')\n    expect(typeof result.current.updateNote).toBe('function')\n    expect(typeof result.current.deleteNote).toBe('function')\n    expect(typeof result.current.startTyping).toBe('function')\n    expect(typeof result.current.stopTyping).toBe('function')\n  })\n\n  it('accepts options parameter', () => {\n    const options = { someOption: 'value' }\n    const { result } = renderHook(() => useOfflineNotes(options))\n\n    // Should not throw and should initialize correctly\n    expect(result.current.notes).toEqual([])\n  })\n\n  describe('createNote', () => {\n    it('creates a note with provided data', async () => {\n      const { result } = renderHook(() => useOfflineNotes())\n\n      const noteData = {\n        title: 'Test Note',\n        content: 'Test content',\n      }\n\n      let createdNote: any\n      await act(async () => {\n        createdNote = await result.current.createNote(noteData)\n      })\n\n      expect(createdNote).toBeDefined()\n      expect(createdNote.title).toBe('Test Note')\n      expect(createdNote.content).toBe('Test content')\n      expect(createdNote.is_folder).toBe(false)\n      expect(typeof createdNote.id).toBe('string')\n    })\n\n    it('creates a note with default values when data is missing', async () => {\n      const { result } = renderHook(() => useOfflineNotes())\n\n      let createdNote: any\n      await act(async () => {\n        createdNote = await result.current.createNote({})\n      })\n\n      expect(createdNote).toBeDefined()\n      expect(createdNote.title).toBe('Untitled')\n      expect(createdNote.content).toBe('')\n      expect(createdNote.is_folder).toBe(false)\n    })\n\n    it('creates a folder when is_folder is true', async () => {\n      const { result } = renderHook(() => useOfflineNotes())\n\n      const folderData = {\n        title: 'Test Folder',\n        is_folder: true,\n      }\n\n      let createdNote: any\n      await act(async () => {\n        createdNote = await result.current.createNote(folderData)\n      })\n\n      expect(createdNote).toBeDefined()\n      expect(createdNote.title).toBe('Test Folder')\n      expect(createdNote.is_folder).toBe(true)\n    })\n\n    it('generates unique IDs for each note', async () => {\n      const { result } = renderHook(() => useOfflineNotes())\n\n      let note1: any, note2: any\n      await act(async () => {\n        note1 = await result.current.createNote({ title: 'Note 1' })\n        note2 = await result.current.createNote({ title: 'Note 2' })\n      })\n\n      expect(note1.id).toBeDefined()\n      expect(note2.id).toBeDefined()\n      expect(note1.id).not.toBe(note2.id)\n    })\n  })\n\n  describe('updateNote', () => {\n    it('calls updateNote without throwing', async () => {\n      const { result } = renderHook(() => useOfflineNotes())\n\n      await act(async () => {\n        await expect(\n          result.current.updateNote('test-id', { title: 'Updated Title' })\n        ).resolves.toBeUndefined()\n      })\n    })\n  })\n\n  describe('deleteNote', () => {\n    it('calls deleteNote without throwing', async () => {\n      const { result } = renderHook(() => useOfflineNotes())\n\n      await act(async () => {\n        await expect(\n          result.current.deleteNote('test-id')\n        ).resolves.toBeUndefined()\n      })\n    })\n  })\n\n  describe('typing functions', () => {\n    it('calls startTyping without throwing', () => {\n      const { result } = renderHook(() => useOfflineNotes())\n\n      expect(() => result.current.startTyping()).not.toThrow()\n    })\n\n    it('calls stopTyping without throwing', () => {\n      const { result } = renderHook(() => useOfflineNotes())\n\n      expect(() => result.current.stopTyping()).not.toThrow()\n    })\n  })\n\n  describe('state consistency', () => {\n    it('maintains state throughout hook lifecycle', () => {\n      const { result, rerender } = renderHook(() => useOfflineNotes())\n\n      const initialNotes = result.current.notes\n      const initialIsLoading = result.current.isLoading\n\n      rerender({})\n\n      expect(result.current.notes).toBe(initialNotes)\n      expect(result.current.isLoading).toBe(initialIsLoading)\n    })\n  })\n\n  describe('error handling', () => {\n    it('handles undefined options gracefully', () => {\n      expect(() => {\n        renderHook(() => useOfflineNotes(undefined))\n      }).not.toThrow()\n    })\n\n    it('handles null options gracefully', () => {\n      expect(() => {\n        renderHook(() => useOfflineNotes(null))\n      }).not.toThrow()\n    })\n  })\n})\n"],"mappings":"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","ignoreList":[]}